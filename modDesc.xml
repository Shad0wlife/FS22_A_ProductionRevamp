<?xml version="1.0" encoding="utf-8" standalone="no" ?>
<modDesc descVersion="73">
  <author>Braeven</author>
  <contributors>Achimobil</contributors>
  <version>1.4.1.3</version>
  <title>
    <en>Production Revamp</en>
  </title>

  <description>
    <en>
<![CDATA[Production Revamp-Script
Revamp reworks the internal production system, expands it and adds various functions. Revamp itself is the basic script mod, but also independently extends productions with additional comfort functions.

A selection of features:

Automatically available for all productions:
* Automatic line break in recipe display for input and output page (4 ingredients per line).
* A colored display of the recipes makes it easier to see why a production is not producing. Where: white - available, red - not available but required, orange - not available and not required.
* Possibility to buy goods in the production menu for a production for double the market price.
* Priority system: Incoming goods can now be set to different priorities via the production menu and will be distributed based on these priorities. The following applies: Priority 1 is most important and will get the goods first until the warehouse is full. Priority 2 only afterwards, etc. Inputs can also be deactivated, in which case they will not receive any deliveries.
* Only active production lines can be supplied via the distribute mode.
* New output mode available: Sell Directly, Distribute, Outsource (Previously Keep) and Swap In (New). If a production is set to storage, it does not automatically spawn pallets.
* Added manual pallet, bale and wood spawner - All productions with pallet spawner can also manually spawn pallets and bales - via the menu or a trigger.
* Production delivery costs are now reported separately (previously part of production costs).
* Productions that are mission objectives can accept unlimited goods from missions until the mission is completed. Mission goods no longer end up in the production itself during missions.
* Display of the maximum storage quantities and the corresponding units.
* Sort productions alphabetically and filter by active/inactive.
* In the case of productions, it is displayed whether they are running in parallel (II) or distributed (Y).
* Own settings menu.

Must be actively installed in productions:
Recipes:
* Recipes can be created with several equal ingredients in groups (maximum 5).
* Multiple production lines that previously had to be created separately can be combined into one production line.
* Ability to add one or more optional boosters that increase Outgoing Production.
* Boosters can be disabled or reversed for individual goods.
* Display of the real current production depending on the booster. The current booster value is shown in orange brackets after the amount.
* Ability to create recipes via FillTypeCategories.
* Possibility of weather dependent productions.
* Possibility of weather-dependent filling levels.

Depiction:
* Possibility to install displays on productions that can show the current level in the warehouse. Also possible with pure bearings.
* Possibility to display objects depending on the fill level, e.g. pallets in a production warehouse. Also possible with pure bearings.
* Warehouses can also be provided with a spawn script that can be used to spawn bales and pallets.

Other features:
* New FillTypes can be entered via Revamp at existing sales points without actively changing the existing sales points. A separate point of sale is no longer required.
* Hidden productions with autostart function.
* Various setting options for the above functions.
* All fully multiplayer capable.
* Own ingame help that explains the most important features of the mod.
* And much more

A full list of options, installation help and support is available from the <a href="https://docs.google.com/document/d/1UgEIonDfseTsUM9s5KP735ZK_--5qmbqqPGylXDzJ6o">Documentation:</a>
 
This is just the script, the script alone does not change any production recipes! These must be created separately.


Changelog:
(Full changelog can be found in the documentation)


Version 1.4
Bugfixes:
* Correction of recipe and fill level indicators for extra wide monitors.
* Purchase price adjustment works now also with fillable purchase silos
* StoreItems via the revamp functions have mod titles again
* Lumber trigger now adjusts its text without reloading, between selling and storing

Innovations
* Possibility to use animals in productions
* Hidden production lines
* Direct selling and distributing made deactivatable
* Silo- and ProductionSpawner can now store more than one item at a time
* At the silo can now be selected the seedling type, when removing corresponding pallets
* After removing a seedling pallet, the correct tree species is now displayed
* When removing logs, lengths of 1-20m can now be selected (adjustable in the XML, default 6m)
* Goods in productions are sold when selling/demolishing them
* MixMode and BoosterMode added for the whole production/production lines
* Production modes are displayed as a separate line in the overview
* New and updated translations

Version 1.4.0.1
* Bugfix with boostMode
* Write error in StoreItemScript considered
* Bugfix with production cycles display

Version 1.4.0.2
* Bugfix ingame help of other mods should work correctly again

Version 1.4.1.0
* Fill level objects can now use multiple filltypes or filltype categories as a sum
* Possibility to use any number of opening hours

Version 1.4.1.2
* Bugfix with opening hours
* Bugfix distribution system with PnH

Version 1.4.1.3
* Bugfix with opening hours and manual spawns
]]>
    </en>
    <de>
<![CDATA[Production Revamp - Script
Revamp überarbeitet das Interne Produktionssystem, baut dieses aus und fügt diverse Funktionen hinzu. Revamp selbst ist der Grundlegende Script-Mod, erweitert Produktionen aber auch unabhängig um zusätzliche Komfort-Funktionen.

Eine Auswahl an Features:

Bei allen Produktionen automatisch verfügbar:
* Automatischer Zeilenumbruch in der Rezeptanzeige für Eingangs- und Ausgangsseite (4 Zutaten pro Zeile).
* Durch eine farbige Anzeige der Rezepte ist schneller zu erkennen, warum eine Produktion nicht produziert. Dabei gilt: weiß - verfügbar, rot - nicht verfügbar, aber erforderlich, orange - nicht verfügbar und nicht erforderlich.
* Möglichkeit, Güter im Produktionsmenü für eine Produktion zu kaufen für den doppelten Marktpreis.
* Prioritätensystem: Eingehende Güter können jetzt über das Produktionsmenü auf verschiedene Prioritäten eingestellt werden und werden auf Grundlage dieser Prioritäten verteilt. Das Folgende gilt: Priorität 1 ist am Wichtigsten und erhält die Güter an erster Stelle, bis das Lager voll ist. Priorität 2 erst danach, usw. Eingänge können auch deaktiviert werden, sie erhalten dann keine Lieferungen.
* Nur aktive Produktionslinien können beliefert werden über den Verteilen-Modus.
* Neuen Ausgangsmodus verfügbar: Direkt Verkaufen, Verteilen, Auslagern (zuvor Behalten) und Einlagern (neu). Steht eine Produktion auf Einlagern spawnt sie keine Paletten automatisch.
* Manuellen Paletten-, Ballen- und Holzspawner hinzugefügt - Alle Produktionen mit Palettenspawner können auch manuell Paletten und Ballen spawnen - über das Menü oder einen Trigger.
* Produktions-Lieferkosten werden jetzt getrennt ausgewiesen(vorher Teil der Produktionskosten).
* Produktionen, die Missionsziele sind, können bei Missionen unbegrenzt Güter annehmen bis die Mission abgeschlossen ist. Missionsgüter landen bei Missionen nicht mehr in der Produktion selber.
* Anzeige der maximalen Lagermengen und der entsprechenden Einheiten.
* Alphabetische Sortierung der Produktionen und Filtern nach Aktiv/Inaktiv.
* Bei Produktionen wird angezeigt ob sie Parallel( II ) oder Verteilt laufen (Y).
* Eigenes Einstellungsmenü.

Muss bei Produktionen aktiv eingebaut werden:
Rezepte:
* Rezepte können mit mehreren gleichwertigen Zutaten in Gruppen erstellt werden (maximal 5).
* Mehrere Produktionslinien können zu einer Produktionslinie kombiniert werden, die zuvor getrennt erstellt werden mussten.
* Möglichkeit, einen oder mehrere optionale Booster hinzuzufügen, die die Ausgehende Produktion erhöhen.
* Booster können für einzelne Güter deaktiviert oder auch umgekehrt werden.
* Anzeige der realen aktuellen Produktion abhängig vom Booster. Der aktuelle Booster-Wert wird in orangefarbenen Klammern hinter der Menge angezeigt.
* Möglichkeit Rezepte über FillTypeCategories zu erstellen.
* Möglichkeit Wetterabhängiger Produktionen.
* Möglichkeit Wetterabhängiger Füllstände.

Darstellung:
* Möglichkeit Displays an Produktionen einzubauen, die den aktuellen Füllstand im Lager anzeigen können. Auch Möglich bei reinen Lagern.
* Möglichkeit Objekte abhängig vom Füllstand anzeigen zu können, z.B. Paletten in einen Produktionslager. Auch Möglich bei reinen Lagern.
* Lager können zudem mit einem Spawn-Script versehen werden, über das Ballen und Paletten gespawnt werden können.

Weitere Feature:
* Neue FillTypes können über Revamp bei bereits bestehenden Verkaufsstellen eingetragen werden, ohne aktive Änderung der vorhandenen Verkaufsstellen. Es ist keine gesonderte Verkaufsstelle mehr erforderlich.
* Versteckte Produktionen mit Autostart-Funktion.
* Diverse Einstellmöglichkeiten für oben genannte Funktionen.
* Alles vollkommen Multiplayer-tauglich.
* Eigene Ingame-Hilfe die die wichtigsten Features des Mods erklärt.
* UND UND UND

Eine vollstände Liste der Möglichkeiten, Einbauhilfe und Support gibt es über die <a href="https://docs.google.com/document/d/1nKWIoe2zAPUGquR6uO4uQAix8gkmKjuFV58kL9i0x28">Dokumentation:</a>
 
Dies ist nur das Skript, das Skript allein ändert keine Produktions-Rezepte! Diese müssen getrennt erstellt werden.


Changelog:
(Vollstände Changelog ist in der Dokumentation zu finden)


Version 1.4
Bugfixes:
* Korrektur der Rezept und Füllstandsanzeigen bei extra breiten Monitoren
* Einkaufspreisanpassung funktioniert jetzt auch bei Füllbaren Kaufsilos
* StoreItems über die Revamp-Funktionen haben wieder Mod-Titel
* Holz-Trigger passt seinen Text nun an ohne Neuladen, zwischen Verkaufen und Einlagern

Neuerungen
* Möglichkeit Tiere in Produktionen zu nutzen
* Versteckte Produktionslinien
* Direkt Verkaufen und Verteilen deaktivierbar gemacht
* Silo- und ProduktionsSpawner können nun mehrere Sachen gleichzeitig Auslagern
* Beim Silo kann jetzt die Setzlingsart ausgewählt werden, beim Auslagern entsprechender Paletten
* Nach dem Auslagern einer Setzlingspalette wird jetzt die korrekte Baumart angezeigt
* Beim Holzstämme auslagern können jetzt Längen von 1-20m ausgewählt werden (Einstellbar in der XML, Standard 6m)
* Güter in Produktionen werden beim Verkaufen/Abreißen dieser verkauft
* MixModus und BoosterModus hinzugefügt für die gesamte Produktion/Produktionslinien
* Produktions-Modi werden als eigene Zeile in der Übersicht angezeigt
* Neue und Upgedatete Übersetzungen

Version 1.4.0.1
* Bugfix mit boostMode
* Schreibfehler im StoreItemScript berücksichtigt
* Bugfix mit Produktions-Zyklen-Anzeige

Version 1.4.0.2
* Bugfix Ingame Hilfe anderer Mods sollte wieder korrekt funktionieren

Version 1.4.1.0
* Fill Level Objekte können nun auch mehrere Filltypes oder Filltype Kategorien als Summe benutzen
* Möglichkeit beliebig viele Öffnungszeiten zu verwenden

Version 1.4.1.2
* Bugfix mit Öffnungszeiten
* Bugfix Verteilsystem mit PnH

Version 1.4.1.3
* Bugfix mit Öffnungszeiten und Manuellen Spawnen
]]>
    </de>
   <fr>
    <![CDATA[Production Revamp-Script
Revamp retravaille le système de production interne tout en l'étandant et ajoutant des nouvelles fonctions. Revamp est à la base un script utilisable par les mods compatibles, mais il peut également être utilisé indépendamment avec les productions pour améliorer le confort du joueur dans sa partie.

Principales fonctionnalités :

Disponible automatiquement pour toutes les productions :
* Saut de ligne automatique dans l'affichage de la recette pour la page d'entrée et de sortie (4 ingrédients par ligne).
* Un affichage coloré des recettes permettant de voir plus facilement pourquoi une production ne produit pas. Code couleur : blanc - disponible, rouge - non disponible et requis, orange - non disponible mais non requis.
* Possibilité d'acheter des marchandises (au double du prix du marché) nécessaires à une production directement depuis le menu.
* Système de priorité : les marchandises entrantes peuvent désormais être définies sur différentes priorités via le menu de production et seront distribuées en fonction de ces priorités. Explications : La priorité 1 est la plus importante et obtiendra les marchandises en premier jusqu'à ce que l'entrepôt soit plein. Puis cela sera le tour de la priorité 2 et ainsi de suite. Les entrées peuvent également être désactivées. Dans ce cas, elles ne recevront aucune livraison.
* Seules les lignes de production actives peuvent être alimentées via le mode distribution.
* Nouveau mode de sortie disponible : vendre directement, distribuer, sous-traiter (anciennement conserver) et échanger (nouveau). Si une production est définie sur stockage, elle ne génère pas automatiquement de palettes.
* Ajout d'un générateur manuel de palettes, de balles et de bois - Toutes les productions avec générateur de palettes peuvent à présent générer manuellement des palettes et des balles via le menu ou à l'aide d'un déclencheur sur la zone.
* Les coûts de livraison de la production sont désormais déclarés séparément (auparavant, ils faisaient partie des coûts de production).
* Les productions qui sont des objectifs de mission peuvent accepter des marchandises illimitées des missions jusqu'à ce que la mission soit terminée. Les biens de mission ne se retrouvent plus dans la production elle-même pendant les missions.
* Affichage des quantités maximales de stockage et des unités correspondantes.
* Trier les productions par ordre alphabétique et filtrer par actif/inactif.
* Affichage du type de production dans le menu : parallèle (II) ou réparties (Y).
* Menu des paramètres personnels.

Fonctions nécessitant des mods de productions compatibles :
Recettes :
* Des recettes peuvent être créées avec plusieurs ingrédients égaux en groupes (maximum 5).
* Plusieurs lignes de production qui devaient auparavant être créées séparément peuvent être combinées en une seule ligne de production.
* Possibilité d'ajouter un ou plusieurs boosters optionnels qui augmentent la production sortante.
* Les boosters peuvent être désactivés ou annulés pour des marchandises spécifiques.
* Affichage de la production réelle en fonction du booster actif. La valeur actuelle du booster est indiquée en orange entre parenthèses juste après la valeur de la production.
* Possibilité de créer des recettes via FillTypeCategories.
* Possibilité de productions dépendantes de la météo.
* Gestion des niveaux de remplissage d'une ressource en fonction des conditions météorologiques.

Ergonomie et lisibilité :
* Possibilité d'installer des présentoirs dans les sites de productions affichant le niveau de stockage dans l'entrepôt. Également possible avec des jauges.
* Possibilité d'afficher des objets en fonction du niveau de remplissage, par exemple des palettes dans un entrepôt de production. Également possible avec des jauges.
* Les entrepôts peuvent également être remplis via un script gérant la génération des marchandises (palettes et/ou balles).

Autres caractéristiques:
* De nouveaux FillTypes peuvent être saisis via Revamp dans les points de vente existants sans modifier spécifiquement les points de vente existants. Un point de vente séparé n'est plus nécessaire.
* Productions cachées avec fonction de démarrage automatique.
* Diverses options de réglage pour les fonctions ci-dessus.
* Entièrement compatible avec les parties multijoueur.
* Aide intégrée en jeu pour expliquer les fonctionnalités les plus importantes du mod.
* et plus encore ...

Une liste complète des options, de l'aide à l'installation et de l'assistance est disponible dans la <a href="https://docs.google.com/document/d/1UgEIonDfseTsUM9s5KP735ZK_--5qmbqqPGylXDzJ6o">Documentation :</a>
 
Attention, ceci n'est que le script. Il ne change aucune recette de production ! Elles doivent être créés séparément dans les mods de production.


Journal des modifications :
(Le journal des modifications complet peut être trouvé dans la documentation)


Version 1.4
Correction de bugs :
* Correction de la recette et de l'affichage du niveau de remplissage sur les moniteurs extra larges.
* L'ajustement du prix d'achat fonctionne maintenant aussi pour les silos d'achat remplissables
* Les StoreItems via les fonctions Revamp ont à nouveau des titres de mod
* Le déclencheur bois adapte désormais son texte sans rechargement, entre la vente et le stockage

Nouveautés
* Possibilité d'utiliser des animaux dans les productions
* Lignes de production cachées
* Vente et distribution directes rendues désactivables
* Les générateurs de marchandises dans les silos et les productions peuvent désormais stocker plusieurs choses en même temps.
* Pour le silo, il est maintenant possible de sélectionner le type de marchandise, lors de la sortie des palettes correspondantes.
* Le type d'arbre correct est désormais affiché après la sortie d'une palette de plants.
* Lors de la sortie des grumes, il est désormais possible de sélectionner des longueurs de 1 à 20 m (réglable dans le XML, 6 m par défaut).
* Les biens dans les productions sont vendus lors de la vente/destruction de celles-ci.
* Ajout du mode Mix et du mode Booster pour l'ensemble de la production/lignes de production
* Les modes de production sont affichés sur une ligne séparée dans l'aperçu.
* Ajout et mise à jour des traductions.

Version 1.4.0.1
* Correction d'un bug avec boostMode
* correction d'une erreur d'écriture dans le StoreItemScript
* Correction d'un bug avec l'affichage des cycles de production.

Version 1.4.0.2
* Correction d'un bug dans l'aide en jeu d'autres mods qui devrait à nouveau fonctionner correctement.

Version 1.4.1.0
* Les objets de niveau de remplissage peuvent maintenant additionner plusieurs types de remplissage ou catégories de remplissage.
* Possibilité d'utiliser autant d'heures d'ouverture que nécessaire

Version 1.4.1.2
* Bugfix avec les heures d'ouverture
* Bugfix système de distribution avec PnH

Version 1.4.1.3
* Correction de bug avec les heures d'ouverture et le spawn manuel
]]>
    </fr>
  </description>



  <iconFilename>icon_ProductionRevamp.dds</iconFilename>
  <multiplayer supported="true" />
  <fillTypes filename="revamp_fillTypes.xml"/>
  
  <extraSourceFiles>
    <sourceFile filename="revamp.lua" />
    <sourceFile filename="revampHelper.lua" />
    <sourceFile filename="scripts/revamp_spawner.lua" />
    <sourceFile filename="events/ProductionPointPriorityEvent.lua" />
    <sourceFile filename="events/ProductionPointBuyInputEvent.lua" />
    <sourceFile filename="events/ProductionPointProductionInputColorEvent.lua" />
    <sourceFile filename="events/RevampSpawnPalletsEvent.lua" />
    <sourceFile filename="events/RevampSpawnBalesEvent.lua" />
    <sourceFile filename="events/RevampSpawnWoodLogsAtSiloEvent.lua" />
    <sourceFile filename="scripts/revamp_buyInputs.lua" />
    <sourceFile filename="scripts/revamp_prioritySystem.lua" />
    <sourceFile filename="scripts/revamp_changeLimits.lua" />
    <sourceFile filename="scripts/revamp_correctBuyingPrices.lua" />
    <sourceFile filename="scripts/revamp_recipeDisplay.lua" />
    <sourceFile filename="scripts/revamp_extendetFunctionalities.lua" />
    <sourceFile filename="scripts/revamp_animalSystem.lua" />
    <sourceFile filename="scripts/revampAnimalStation.lua" />
    <sourceFile filename="scripts/revamp_sellProductionFix.lua" />
    <sourceFile filename="revampSettings.lua" />
	  <sourceFile filename="gui/ProductionAnimalDelivery.lua" />
	  <sourceFile filename="gui/ProductionAnimalOverview.lua" />
	  <sourceFile filename="events/RevampMoveAnimalsEvent.lua" />
  </extraSourceFiles>
  
  <revamp minVersion="1.4.0.0"></revamp>

    <placeableSpecializations>
        <specialization name="siloObjectFillLevel" className="SiloObjectFillLevelSpecialization" filename="scripts/siloObjectFillLevelSpecialization.lua"/>
        <specialization name="siloDisplay" className="SiloDisplaySpecialization" filename="scripts/siloDisplaySpecialization.lua"/>
        <specialization name="productionObjectFillLevel" className="ProductionObjectFillLevelSpecialization" filename="scripts/productionObjectFillLevelSpecialization.lua"/>
        <specialization name="productionDisplay" className="ProductionDisplaySpecialization" filename="scripts/productionDisplaySpecialization.lua"/>
        <specialization name="siloPalletSpawner" className="SiloPalletSpawnerSpecialization" filename="scripts/siloPalletSpawnerSpecialization.lua"/>
    </placeableSpecializations>
    
    <placeableTypes>
        <type name="RevampSilo" parent="silo" filename="$dataS/scripts/placeables/Placeable.lua">
            <specialization name="siloObjectFillLevel"/>
            <specialization name="siloDisplay"/>
            <specialization name="siloPalletSpawner"/>
        </type>
        <type name="RevampProductionPoint" parent="productionPoint" filename="$dataS/scripts/placeables/Placeable.lua">
            <specialization name="productionObjectFillLevel"/>
            <specialization name="productionDisplay"/>
        </type>
        <type name="RevampGreenhouse" parent="greenhouse" filename="$dataS/scripts/placeables/Placeable.lua">
            <specialization name="productionObjectFillLevel"/>
            <specialization name="productionDisplay"/>
        </type>
    </placeableTypes>
  
	<l10n filenamePrefix="l10n/l10n" />
</modDesc>